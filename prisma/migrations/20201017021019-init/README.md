# Migration `20201017021019-init`

This migration has been generated by Matt Zuzolo at 10/16/2020, 10:10:19 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Distiller" ADD COLUMN "countryId" text   ,
ADD COLUMN "regionId" text   

CREATE TABLE "public"."Country" (
"id" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"name" text   NOT NULL ,
PRIMARY KEY ("id")
)

CREATE TABLE "public"."Region" (
"id" text   NOT NULL ,
"createdAt" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
"name" text   NOT NULL ,
PRIMARY KEY ("id")
)

ALTER TABLE "public"."Distiller" ADD FOREIGN KEY ("countryId")REFERENCES "public"."Country"("id") ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE "public"."Distiller" ADD FOREIGN KEY ("regionId")REFERENCES "public"."Region"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201017012720-init..20201017021019-init
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
@@ -14,19 +14,39 @@
   id String @id @default(uuid())
   createdAt  DateTime  @default(now())
   name String
   blended Boolean
-  age Int?
+  age Int? // Maybe default to zero?
   // Relationship
   distillerId  String
   distiller    Distiller  @relation(fields: [distillerId], references: [id])
 }
-model Distiller {
+model Distiller { // The Balvenie, Lagavulin, Buffalo Trace
   id String @id @default(uuid())
   createdAt  DateTime  @default(now())
   name String
   // Relationship
   whiskys Whisky[]
+}
+
+model Country { // Scotland, Ireland, USA
+  id String @id @default(uuid())
+  createdAt  DateTime  @default(now())
+
+  name String
+
+  // Relationship
+  distillers Distiller[]
+}
+
+model Region { // Islay, Kentucky
+  id String @id @default(uuid())
+  createdAt  DateTime  @default(now())
+
+  name String
+
+  // Relationship
+  distillers Distiller[]
 }
```


